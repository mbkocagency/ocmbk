@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  html {
    scroll-behavior: smooth;
  }

  body {
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }
}

@layer utilities {
  .perspective-1000 {
    perspective: 1000px;
  }

  .preserve-3d {
    transform-style: preserve-3d;
  }

  .backface-hidden {
    backface-visibility: hidden;
  }

  /* Advanced animation utilities for GPU acceleration - Optimized 25-30% faster */
  .animate-fade-in {
    animation: fadeIn 0.3s ease-out forwards;
    will-change: opacity;
  }

  .animate-slide-up {
    animation: slideUp 0.35s cubic-bezier(0.4, 0, 0.2, 1) forwards;
    will-change: transform, opacity;
  }

  .animate-scale-in {
    animation: scaleIn 0.3s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
    will-change: transform, opacity;
  }

  .animate-rotate-in {
    animation: rotateIn 0.42s cubic-bezier(0.4, 0, 0.2, 1) forwards;
    will-change: transform, opacity;
  }

  /* CTA Button Glow Animation - Dynamic multi-layer effect */
  .cta-glow {
    animation: ctaGlow 2.5s ease-in-out infinite, ctaShine 3s ease-in-out infinite;
    will-change: box-shadow, filter;
    position: relative;
  }

  .cta-glow::before {
    content: '';
    position: absolute;
    inset: 0;
    border-radius: inherit;
    opacity: 0;
    animation: ctaPulse 2s ease-in-out infinite;
    will-change: opacity;
    pointer-events: none;
  }

  /* Intensify animation on hover */
  .cta-glow:hover {
    animation: ctaGlowIntense 1.5s ease-in-out infinite, ctaShineIntense 1.2s ease-in-out infinite;
    filter: brightness(1.1);
  }

  .cta-glow:hover::before {
    animation: ctaPulseIntense 1s ease-in-out infinite;
  }

  /* Image loading animation */
  .img-loading {
    background: linear-gradient(90deg, #1f2937 25%, #374151 50%, #1f2937 75%);
    background-size: 200% 100%;
    animation: shimmer 1.5s infinite;
  }
}

/* Keyframe animations - optimized for 60fps with GPU acceleration */
@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes slideUp {
  from {
    opacity: 0;
    transform: translateY(20px) translateZ(0);
  }
  to {
    opacity: 1;
    transform: translateY(0) translateZ(0);
  }
}

@keyframes scaleIn {
  from {
    opacity: 0;
    transform: scale(0.92) translateZ(0);
  }
  to {
    opacity: 1;
    transform: scale(1) translateZ(0);
  }
}

@keyframes rotateIn {
  from {
    opacity: 0;
    transform: rotate(-8deg) scale(0.96) translateZ(0);
  }
  to {
    opacity: 1;
    transform: rotate(0) scale(1) translateZ(0);
  }
}

/* CTA Button Glow Effect - Enhanced multi-layer glow */
@keyframes ctaGlow {
  0%, 100% {
    box-shadow: 0 0 20px rgba(74, 222, 128, 0.3),
                0 0 40px rgba(74, 222, 128, 0.15),
                0 4px 20px rgba(0, 0, 0, 0.3),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
  }
  25% {
    box-shadow: 0 0 30px rgba(74, 222, 128, 0.4),
                0 0 50px rgba(74, 222, 128, 0.2),
                0 6px 25px rgba(0, 0, 0, 0.35),
                inset 0 1px 0 rgba(255, 255, 255, 0.15);
  }
  50% {
    box-shadow: 0 0 40px rgba(74, 222, 128, 0.5),
                0 0 70px rgba(74, 222, 128, 0.3),
                0 8px 35px rgba(0, 0, 0, 0.4),
                inset 0 1px 0 rgba(255, 255, 255, 0.2);
  }
  75% {
    box-shadow: 0 0 30px rgba(74, 222, 128, 0.4),
                0 0 50px rgba(74, 222, 128, 0.2),
                0 6px 25px rgba(0, 0, 0, 0.35),
                inset 0 1px 0 rgba(255, 255, 255, 0.15);
  }
}

/* Shine effect that moves across the button */
@keyframes ctaShine {
  0% {
    text-shadow: -20px 0 20px rgba(74, 222, 128, 0);
  }
  50% {
    text-shadow: 0 0 15px rgba(74, 222, 128, 0.1);
  }
  100% {
    text-shadow: 20px 0 20px rgba(74, 222, 128, 0);
  }
}

/* Pulse effect on pseudo-element */
@keyframes ctaPulse {
  0%, 100% {
    opacity: 0;
    box-shadow: 0 0 0 0 rgba(74, 222, 128, 0.2);
  }
  50% {
    opacity: 0.5;
    box-shadow: 0 0 0 10px rgba(74, 222, 128, 0);
  }
}

/* Intense hover animations */
@keyframes ctaGlowIntense {
  0%, 100% {
    box-shadow: 0 0 30px rgba(74, 222, 128, 0.5),
                0 0 60px rgba(74, 222, 128, 0.3),
                0 8px 30px rgba(0, 0, 0, 0.4),
                inset 0 1px 0 rgba(255, 255, 255, 0.2);
  }
  33% {
    box-shadow: 0 0 40px rgba(74, 222, 128, 0.6),
                0 0 80px rgba(74, 222, 128, 0.4),
                0 10px 40px rgba(0, 0, 0, 0.5),
                inset 0 1px 0 rgba(255, 255, 255, 0.25);
  }
  66% {
    box-shadow: 0 0 35px rgba(74, 222, 128, 0.55),
                0 0 70px rgba(74, 222, 128, 0.35),
                0 9px 35px rgba(0, 0, 0, 0.45),
                inset 0 1px 0 rgba(255, 255, 255, 0.2);
  }
}

/* Intense shine effect */
@keyframes ctaShineIntense {
  0% {
    text-shadow: -25px 0 25px rgba(74, 222, 128, 0.1);
  }
  50% {
    text-shadow: 0 0 25px rgba(74, 222, 128, 0.3);
  }
  100% {
    text-shadow: 25px 0 25px rgba(74, 222, 128, 0.1);
  }
}

/* Intense pulse on hover */
@keyframes ctaPulseIntense {
  0%, 100% {
    opacity: 0;
    box-shadow: 0 0 0 0 rgba(74, 222, 128, 0.4);
  }
  50% {
    opacity: 0.8;
    box-shadow: 0 0 0 15px rgba(74, 222, 128, 0);
  }
}

@keyframes shimmer {
  0% {
    background-position: 200% 0;
  }
  100% {
    background-position: -200% 0;
  }
}

/* Accessibility: Respect prefers-reduced-motion */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }

  html {
    scroll-behavior: auto;
  }

  /* Disable CTA glow for users with motion sensitivity */
  .cta-glow {
    animation: none !important;
  }
}

/* Enhanced focus styles for accessibility */
@layer base {
  *:focus-visible {
    outline: 2px solid #4ade80;
    outline-offset: 2px;
  }

  button:focus-visible,
  a:focus-visible {
    outline: 2px solid #4ade80;
    outline-offset: 4px;
  }
}

/* Performance optimization: GPU acceleration for transforms */
@layer utilities {
  .gpu-accelerated {
    transform: translateZ(0);
    will-change: transform;
  }

  .hover-lift {
    transition: transform 0.22s cubic-bezier(0.4, 0, 0.2, 1), box-shadow 0.22s ease;
  }

  .hover-lift:hover {
    transform: translateY(-8px) translateZ(0);
  }

  /* Optimized transitions for better performance */
  .transition-faster {
    transition-duration: 0.2s;
  }

  .transition-optimized {
    transition-property: transform, opacity;
    transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
  }

  /* Enhanced gradient utilities with 30% more feathering on hard edges */
  .gradient-soft-bottom {
    background: linear-gradient(to bottom,
      var(--gradient-from) 0%,
      var(--gradient-via, var(--gradient-from)) 45%,
      var(--gradient-to) 100%);
  }

  .gradient-soft-top {
    background: linear-gradient(to bottom,
      var(--gradient-from) 0%,
      var(--gradient-via, var(--gradient-from)) 55%,
      var(--gradient-to) 100%);
  }

  .gradient-soft-right {
    background: linear-gradient(to right,
      var(--gradient-from) 0%,
      var(--gradient-via, var(--gradient-from)) 45%,
      var(--gradient-to) 100%);
  }

  .gradient-soft-left {
    background: linear-gradient(to right,
      var(--gradient-from) 0%,
      var(--gradient-via, var(--gradient-from)) 55%,
      var(--gradient-to) 100%);
  }

  .gradient-soft-br {
    background: linear-gradient(to bottom right,
      var(--gradient-from) 0%,
      var(--gradient-via, var(--gradient-from)) 45%,
      var(--gradient-to) 100%);
  }

  .gradient-soft-tl {
    background: linear-gradient(to bottom right,
      var(--gradient-from) 0%,
      var(--gradient-via, var(--gradient-from)) 55%,
      var(--gradient-to) 100%);
  }
}
